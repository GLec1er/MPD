# –í–æ–ø—Ä–æ—Å ‚Ññ1 –ß—Ç–æ —Ç–∞–∫–æ–µ event loop

## üìå –û—Ç–≤–µ—Ç:
Event Loop ‚Äî —ç—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –≤ Python (asyncio), –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ—Ä—É—Ç–∏–Ω, 
–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á, –∏ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π I/O-—Å–æ–±—ã—Ç–∏–π.

## üìö –ü–æ—è—Å–Ω–µ–Ω–∏–µ:
### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç event loop:

1. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∑–∞–¥–∞—á–∏ (–∫–æ—Ä—É—Ç–∏–Ω—ã, future, callback'–∏).

2. –°–ª–µ–¥–∏—Ç –∑–∞ I/O ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ —Å–æ–∫–µ—Ç –∏–ª–∏ —Ñ–∞–π–ª ¬´–≥–æ—Ç–æ–≤¬ª –∫ —á—Ç–µ–Ω–∏—é/–∑–∞–ø–∏—Å–∏.

3. –ü—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø–æ–∫–∞ –∑–∞–¥–∞—á–∞ –Ω–µ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∞ (—ç–∫–æ–Ω–æ–º–∏—Ç CPU).

4. –í–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á, –∫–æ–≥–¥–∞ —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—à–ª–∏).

### –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:
1. –†–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–¥–Ω–æ–º –ø–æ—Ç–æ–∫–µ (–æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω–∞—è –º–æ–¥–µ–ª—å).

2. I/O-bound –∑–∞–¥–∞—á–∏ (—Å–µ—Ç—å, –¥–∏—Å–∫) –æ—Ç–ª–∏—á–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ event loop.

3. CPU-bound –∑–∞–¥–∞—á–∏ ‚Äî –ø–ª–æ—Ö–æ –ø–æ–¥—Ö–æ–¥—è—Ç, —Ç.–∫. –±–ª–æ–∫–∏—Ä—É—é—Ç event loop.

## üîÑ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã event loop:
```python
import asyncio

async def main():
    print("Start")
    await asyncio.sleep(1)  # —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–¥–∞–µ—Ç—Å—è event loop
    print("End")

asyncio.run(main())  # –∑–∞–ø—É—Å–∫–∞–µ—Ç event loop
await asyncio.sleep(1)
```

### ‚ùó –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ event loop
asyncio.run() –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç event loop.

## üìù –†–µ–∑—é–º–µ:
Event loop ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º asyncio, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫ –≤–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è I/O. –û–Ω "–ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è" –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏, –∫–æ–≥–¥–∞ –æ–¥–Ω–∏ –∂–¥—É—Ç, –∞ –¥—Ä—É–≥–∏–µ –≥–æ—Ç–æ–≤—ã –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é.

___

# –í–æ–ø—Ä–æ—Å ‚Ññ2 –°–∞–º–æ–µ —Å—Ç—Ä–∞—à–Ω–æ–µ, —á—Ç–æ –º–æ–∂–µ—Ç —Å–ª—É—á–∏—Ç—å—Å—è –≤ event loop

## üìå –û—Ç–≤–µ—Ç:
–°–∞–º–æ–µ —Å—Ç—Ä–∞—à–Ω–æ–µ –≤ event loop ‚Äî –µ–≥–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞.
–ï—Å–ª–∏ —Ç—ã –∑–∞–ø—É—Å–∫–∞–µ—à—å –±–ª–æ–∫–∏—Ä—É—é—â–∏–π –∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, time.sleep() –∏–ª–∏ —Ç—è–∂—ë–ª—É—é CPU-—Ñ—É–Ω–∫—Ü–∏—é), —Ç–æ –≤—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤—Å—Ç–∞—ë—Ç.
Event loop –Ω–µ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥–∏–µ –∑–∞–¥–∞—á–∏ ‚Üí –≤—Å—ë –∑–∞–≤–∏—Å–∞–µ—Ç.


___

# –í–æ–ø—Ä–æ—Å ‚Ññ3 –†–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ orm –∫–∞–∫–∏–µ –µ—Å—Ç—å —á—Ç–æ –ø–æ–∑–≤–æ–ª—è—é—Ç –¥–µ–ª–∞—Ç—å –∏ –∫–∞–∫ —É–ø—Ä–æ—â–∞—é—Ç, –∞ –≥–ª–∞–≤–Ω–æ–µ –∫–∞–∫ —É—Å–ª–æ–∂–Ω—è—é—Ç –∂–∏–∑–Ω—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏ —Å–ª–æ–∂–Ω–æ–ª—Å—Ç—å –∫–æ–¥–∞

## üìå –ß—Ç–æ —Ç–∞–∫–æ–µ ORM?
ORM (Object-Relational Mapping) ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑—ã–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã –≤ –∫–æ–¥–µ (Python-–∫–ª–∞—Å—Å—ã) —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. 
–û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î —á–µ—Ä–µ–∑ Python-–∫–æ–¥, –∞ –Ω–µ —á–µ—Ä–µ–∑ SQL.

### ‚úÖ –ö–∞–∫ ORM —É–ø—Ä–æ—â–∞–µ—Ç –∂–∏–∑–Ω—å:
üìâ –£–º–µ–Ω—å—à–∞–µ—Ç –æ–±—ä–µ–º —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ SQL-–∫–æ–¥–∞.

üì¶ –†–∞–±–æ—Ç–∞–µ—Ç —Å –ë–î –∫–∞–∫ —Å –æ–±—ã—á–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏.

üß© –•–æ—Ä–æ—à–æ –≤–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Django).

üîÑ –ü–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å —Å—Ö–µ–º—ã.

### ‚ùå –ö–∞–∫ ORM —É—Å–ª–æ–∂–Ω—è–µ—Ç –∂–∏–∑–Ω—å:
üê¢ –°–∫—Ä—ã—Ç–∞—è –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: –º–æ–∂–Ω–æ —Å–ª—É—á–∞–π–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–µ—Å—è—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ (N+1 –ø—Ä–æ–±–ª–µ–º–∞).

üîé –û—Ç–ª–∞–¥–∫–∞ —Å–ª–æ–∂–Ω–µ–µ, —á–µ–º –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ raw SQL.

üß© –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ ‚Äî ORM –∞–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç SQL, –Ω–æ —Ç–µ—Ä—è–µ—Ç—Å—è –∫–æ–Ω—Ç—Ä–æ–ª—å.

‚ùó –í—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥ –¥–ª—è –≥–ª—É–±–æ–∫–æ–π –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ ‚Äî —Å–ª–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏—á–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –°–£–ë–î (–Ω–∞–ø—Ä–∏–º–µ—Ä, WITH, CTE, window functions).

## üìù –†–µ–∑—é–º–µ:
ORM ‚Äî —ç—Ç–æ —Å–ª–æ–π –º–µ–∂–¥—É –∫–æ–¥–æ–º –∏ –ë–î, –ø—Ä–µ–≤—Ä–∞—â–∞—é—â–∏–π —Ç–∞–±–ª–∏—Ü—ã –≤ Python-–æ–±—ä–µ–∫—Ç—ã.
–û–Ω —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É, –Ω–æ –º–æ–∂–µ—Ç –≤–Ω–µ—Å—Ç–∏ —Å–∫—Ä—ã—Ç—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å: –ø–æ—Ç–µ—Ä—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ –æ—Ç–ª–∞–¥–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≥–∏–±–∫–æ—Å—Ç–∏ SQL.

___

# –í–æ–ø—Ä–æ—Å ‚Ññ4 –ö–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –≤ Django? –î–ª—è –∫–æ–≥–æ –æ–Ω–∏ —Å—Ç–∞–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–æ–º –∏ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç?

## ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –º–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å:
### –ù–∞ —É—Ä–æ–≤–Ω–µ –ø–æ–ª—è ‚Äî —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º db_index=True

```python
class User(models.Model):
    email = models.EmailField(db_index=True)
```

### –ß–µ—Ä–µ–∑ Meta.indexes ‚Äî —Å–æ—Å—Ç–∞–≤–Ω—ã–µ, –≤—ã—Ä–∞–∂–µ–Ω–∏—è –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã

```python
from django.db.models import Index

class Order(models.Model):
user = models.ForeignKey(User, on_delete=models.CASCADE)
created_at = models.DateTimeField()

    class Meta:
        indexes = [
            Index(fields=['user', 'created_at']),  # —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å
        ]
```

### –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ unique=True

```python
username = models.CharField(max_length=100, unique=True)
```

## üë§ –ö—Ç–æ —Å—Ç–∞–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. üîë primary_key=True ‚Üí —Å–æ–∑–¥–∞—ë—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é id)

2. üîê unique=True ‚Üí –∏–Ω–¥–µ–∫—Å + –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏

3. üîó ForeignKey ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç—Å—è

4. üìß EmailField(unique=True) ‚Üí –∏–Ω–¥–µ–∫—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

5. OneToOneField ‚Üí —Ç–æ–∂–µ –∏–Ω–¥–µ–∫—Å

## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∏–Ω–¥–µ–∫—Å—ã –≤ –ë–î (–Ω–∞–ø—Ä–∏–º–µ—Ä, PostgreSQL):
–£—Å–∫–æ—Ä—è—é—Ç WHERE, JOIN, ORDER BY, GROUP BY

–†–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ B-–¥–µ—Ä–µ–≤—å—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
Django –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å GinIndex, BrinIndex, HashIndex ‚Äî —á–µ—Ä–µ–∑ Meta.indexes

–ü—Ä–∏–º–µ—Ä GIN:
```python
from django.contrib.postgres.indexes import GinIndex

class Article(models.Model):
    content = models.TextField()

    class Meta:
        indexes = [GinIndex(fields=["content"])]
```

## ‚ùó –í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å:
1. –ò–Ω–¥–µ–∫—Å—ã —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç —Ä–∞–∑–º–µ—Ä –ë–î
2. –ó–∞–º–µ–¥–ª—è—é—Ç –≤—Å—Ç–∞–≤–∫—É –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
3. –õ—É—á—à–µ –Ω–µ —Å—Ç–∞–≤–∏—Ç—å "–Ω–∞ –≤—Å—ë –ø–æ–¥—Ä—è–¥"

## üìù –†–µ–∑—é–º–µ:
–í Django –∏–Ω–¥–µ–∫—Å—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ db_index=True, unique=True –∏ Meta.indexes.
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è primary key, unique, ForeignKey.
–ò–Ω–¥–µ–∫—Å—ã —É—Å–∫–æ—Ä—è—é—Ç –≤—ã–±–æ—Ä–∫—É, –Ω–æ –∑–∞–º–µ–¥–ª—è—é—Ç –∑–∞–ø–∏—Å—å –∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç —Ä–∞–∑–º–µ—Ä –ë–î.

–ò–Ω–¥–µ–∫—Å—ã ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–æ–±—ã—á–Ω–æ B-–¥–µ—Ä–µ–≤—å—è), —É—Å–∫–æ—Ä—è—é—â–∏–µ –ø–æ–∏—Å–∫ —Å—Ç—Ä–æ–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ.
–û–Ω–∏ —Å–æ–∫—Ä–∞—â–∞—é—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤ —Å O(n) –¥–æ O(log n).
–í–∞–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Ö –≤—ã–±–∏—Ä–∞—Ç—å –∏ –Ω–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è—Ç—å ‚Äî –æ–Ω–∏ –∑–∞–º–µ–¥–ª—è—é—Ç –∑–∞–ø–∏—Å—å –∏ –∑–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ.

___

# –í–æ–ø—Ä–æ—Å ‚Ññ5 –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–ª–ª–∏–∑–∏—è –∏ –∫–∞–∫ –æ–Ω–∞ —Å–≤—è–∑–∞–Ω–∞ —Å has

## üìå 1. –ß—Ç–æ —Ç–∞–∫–æ–µ —Ö–µ—à (hash)?
–•–µ—à-—Ñ—É–Ω–∫—Ü–∏—è ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç—Ä–æ–∫—É) –≤ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é –¥–ª–∏–Ω—É —á–∏—Å–µ–ª (–æ–±—ã—á–Ω–æ int), —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ 
—Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –∏–ª–∏ –∏—Å–∫–∞—Ç—å.

–ü—Ä–∏–º–µ—Ä –≤ Python:

```python
hash("cat")  # ‚Üí 1234567 (–Ω–∞–ø—Ä–∏–º–µ—Ä)
```

## ‚ö†Ô∏è 2. –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–ª–ª–∏–∑–∏—è?
–ö–æ–ª–ª–∏–∑–∏—è ‚Äî —ç—Ç–æ —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è –¥–∞—é—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Ö–µ—à.

```python
hash("apple") == hash("orange")  # –¥–æ–ø—É—Å—Ç–∏–º, —Å–ª—É—á–∞–π–Ω–æ True
```

–¢–∞–∫ –∫–∞–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤—Ö–æ–¥–æ–≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ, –∞ –≤—ã—Ö–æ–¥–æ–≤ ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ, –∫–æ–ª–ª–∏–∑–∏–∏ –Ω–µ–∏–∑–±–µ–∂–Ω—ã.

## üéØ 3. –ì–¥–µ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è?
1. –í —Å–ª–æ–≤–∞—Ä—è—Ö (dict)
2. –í –º–Ω–æ–∂–µ—Å—Ç–≤–∞—Ö (set)
3. –í —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞—Ö –≤ –ë–î (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ Redis –∏–ª–∏ PostgreSQL **HashIndex**)

## üß† 4. –ö–∞–∫ —Ä–µ—à–∞—é—Ç—Å—è –∫–æ–ª–ª–∏–∑–∏–∏?
### –í —Å–ª–æ–≤–∞—Ä–µ Python:

1. –ö–∞–∂–¥–æ–º—É –∫–ª—é—á—É —Å—á–∏—Ç–∞–µ—Ç—Å—è hash

2. –ï—Å–ª–∏ –¥–≤–∞ –∫–ª—é—á–∞ –¥–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π hash, Python –∏–¥—ë—Ç –¥–∞–ª—å—à–µ –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∫–ª—é—á–µ–π –Ω–∞–ø—Ä—è–º—É—é

3. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç–∞—è –∞–¥—Ä–µ—Å–∞—Ü–∏—è –∏–ª–∏ —Ü–µ–ø–æ—á–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

```python
d = {"abc": 1, "xyz": 2}
# –î–∞–∂–µ –µ—Å–ª–∏ —Ö–µ—à —Å–æ–≤–ø–∞–ª ‚Äî –∫–ª—é—á–∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –ø–æ `__eq__
```

## üõë –ü–æ—á–µ–º—É –∫–æ–ª–ª–∏–∑–∏–∏ ‚Äî —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞?

1. –ó–∞–º–µ–¥–ª—è—é—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–ø–æ–∏—Å–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ–ª—å—à–µ)
2. –°–æ–∑–¥–∞—é—Ç —É—è–∑–≤–∏–º–æ—Å—Ç–∏ ‚Äî –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ö–µ—à-–¥–æ—Å –∞—Ç–∞–∫—É (–ø–æ—Ç–æ–∫ –∫–æ–ª–ª–∏–∑–∏–π ‚Üí –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞)

## üìå –†–µ–∑—é–º–µ:
–ö–æ–ª–ª–∏–∑–∏—è ‚Äî —ç—Ç–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Ö–µ—à–µ–π —É —Ä–∞–∑–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.
–û–Ω–∞ –Ω–µ–∏–∑–±–µ–∂–Ω–∞ –ø—Ä–∏ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏ —Ä–µ—à–∞–µ—Ç—Å—è —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º —Å–∞–º–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π.
–í–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ö–µ—à-—Ç–∞–±–ª–∏—Ü, —Ç–∞–∫–∏—Ö –∫–∞–∫ dict, set, Redis.


___

# –í–æ–ø—Ä–æ—Å ‚Ññ6 –ö–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ –ø–æ–∏—Å–∫–∞ —Ä–µ—à–∞–ª –∏ –∫–∞–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª?

## –ü–æ–∏—Å–∫ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö –¥–∞–Ω–Ω—ã—Ö (Python):
–ü—Ä–∏–º–µ—Ä—ã –∑–∞–¥–∞—á: 
1. –ü–æ–∏—Å–∫ –ø–æ —Å–ø–∏—Å–∫—É, —Å–ª–æ–≤–∞—Ä—é, –º–Ω–æ–∂–µ—Å—Ç–≤—É

2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —É—Å–ª–æ–≤–∏—è–º (–ø–æ–∏—Å–∫ –ª—é–¥–µ–π —Å—Ç–∞—Ä—à–µ 30)

3. –ü–æ–∏—Å–∫ –ø–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
in, list.index(), dict.get(), set

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∏ next()

–ú–æ–¥—É–ª–∏: bisect, heapq, collections


## üìù –†–µ–∑—é–º–µ:
–†–µ—à–∞–ª –∑–∞–¥–∞—á–∏ –ø–æ–∏—Å–∫–∞ –≤ —Å–ø–∏—Å–∫–∞—Ö, —Å–ª–æ–≤–∞—Ä—è—Ö, –ë–î, —Ç–µ–∫—Å—Ç–∞—Ö, –≥—Ä–∞—Ñ–∞—Ö –∏ API.
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª in, next, ORM, SQL-–∑–∞–ø—Ä–æ—Å—ã, ElasticSearch, re, networkx, bisect, heapq.
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –∏–Ω–¥–µ–∫—Å—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –ø–æ–¥ —á–∞—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã. –ó–Ω–∞—é, –≥–¥–µ –Ω—É–∂–µ–Ω –ª–∏–Ω–µ–π–Ω—ã–π, –±–∏–Ω–∞—Ä–Ω—ã–π, –≥—Ä–∞—Ñ–æ–≤—ã–π –∏–ª–∏ –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫.


___

# –í–æ–ø—Ä–æ—Å ‚Ññ7 –†–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ –ª–æ–≥–∏ –∏ –∏—Ö —Ä–æ—Ç–∞—Ü–∏–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ –∫–∞–∫ —Ö—Ä–∞–Ω–∏—Ç—å –∏ –∫–∞–∫ —Å –Ω–∏–º–∏ —Ä–∞–±–æ—Ç–∞—Ç—å

## ‚úÖ –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –ª–æ–≥–∏?
1. –û—Ç–ª–∞–¥–∫–∞ –∫–æ–¥–∞ –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã

3. –ê—É–¥–∏—Ç (–∫—Ç–æ –∏ —á—Ç–æ —Å–¥–µ–ª–∞–ª)

4. –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –æ—à–∏–±–æ–∫ –≤ –ø—Ä–æ–¥–µ

## üîÅ –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤
**–†–æ—Ç–∞—Ü–∏—è** ‚Äî —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ–Ω–∞ —Å—Ç–∞—Ä–æ–≥–æ –ª–æ–≥–∞ –Ω–æ–≤—ã–º –ø–æ—Å–ª–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —É—Å–ª–æ–≤–∏—è:

## üì¶ –°–ø–æ—Å–æ–±—ã —Ä–æ—Ç–∞—Ü–∏–∏:
1. –ü–æ —Ä–∞–∑–º–µ—Ä—É —Ñ–∞–π–ª–∞

2. –ü–æ –≤—Ä–µ–º–µ–Ω–∏ (–¥–µ–Ω—å/–Ω–µ–¥–µ–ª—è)

3. –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è

## ‚òÅÔ∏è –•—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤
–ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å:
1. üìÅ –õ–æ–∫–∞–ª—å–Ω–æ –≤ —Ñ–∞–π–ª–∞—Ö

2. üì¶ –í Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö ‚Üí –≤—ã–≤–æ–¥ –≤ stdout, stderr

3. ‚òÅÔ∏è –í —Å–∏—Å—Ç–µ–º–∞—Ö —Å–±–æ—Ä–∞ –ª–æ–≥–æ–≤: ELK stack (Elasticsearch + Logstash + Kibana) –∏ Sentry (–¥–ª—è –æ—à–∏–±–æ–∫)


## üìù –†–µ–∑—é–º–µ –¥–ª—è —Å–æ–±–µ—Å–∞:
–õ–æ–≥–∏ –Ω—É–∂–Ω—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞—É–¥–∏—Ç–∞. –ò—Å–ø–æ–ª—å–∑—É—é logging –∏ handlers –¥–ª—è —Ä–æ—Ç–∞—Ü–∏–∏ ‚Äî –ø–æ —Ä–∞–∑–º–µ—Ä—É (RotatingFileHandler) 
–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (TimedRotatingFileHandler). –í –ø—Ä–æ–¥–µ –ª–æ–≥–∏—Ä—É—é –≤ stdout –∏ –∏—Å–ø–æ–ª—å–∑—É—é —Å–∏—Å—Ç–µ–º—É —Å–±–æ—Ä–∞ –ª–æ–≥–æ–≤ ‚Äî —á–∞—â–µ –≤—Å–µ–≥–æ ELK, Grafana Loki –∏–ª–∏ Sentry. 
–ü—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—é—Å—å best practice: —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–æ–≤, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.


___

# –í–æ–ø—Ä–æ—Å ‚Ññ7 –†–∞—Å—Å–∫–∞–∂–∏ —á—Ç–æ —Ç–∞–∫–æ–µ ELK –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–∞ —á—Ç–æ –¥–µ–ª–∞–µ—Ç

**ELK** ‚Äî —ç—Ç–æ —Å—Ç–µ–∫ –¥–ª—è —Å–±–æ—Ä–∞, —Ö—Ä–∞–Ω–µ–Ω–∏—è, –∞–Ω–∞–ª–∏–∑–∞ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–æ–≤.

### ELK —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è:
1. E ‚Äî Elasticsearch: —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏ –¥–≤–∏–∂–æ–∫ –ø–æ–∏—Å–∫–∞

2. L ‚Äî Logstash: —Å–±–æ—Ä –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ª–æ–≥–æ–≤

3. K ‚Äî Kibana: –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –¥–∞—à–±–æ—Ä–¥—ã

## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ELK:
## –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –ª–æ–≥–æ–≤
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Å–µ—Ä–≤–µ—Ä—ã, –±–∞–∑—ã, nginx, docker ‚Äî –≤—Å—ë –ª–æ–≥–∏—Ä—É–µ—Ç.
 
### Logstash (–∏–ª–∏ Beats/Fluentd)
–°—á–∏—Ç—ã–≤–∞–µ—Ç –ª–æ–≥–∏ ‚Üí –ø–∞—Ä—Å–∏—Ç (–º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å grok-–ø–∞—Ç—Ç–µ—Ä–Ω—ã) ‚Üí –æ–±–æ–≥–∞—â–∞–µ—Ç (IP ‚Üí —Å—Ç—Ä–∞–Ω–∞, –¥–æ–±–∞–≤–ª—è–µ—Ç –º–µ—Ç–∫–∏) ‚Üí –æ—Ç—Å—ã–ª–∞–µ—Ç –≤ Elasticsearch.

### Elasticsearch
–ü–æ–ª—É—á–∞–µ—Ç –∏ —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ. –ò–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç –∏—Ö, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã—Å—Ç—Ä–æ –∏—Å–∫–∞—Ç—å –ø–æ –ø–æ–ª—è–º, –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º, —Ñ—Ä–∞–∑–∞–º –∏ —Ç.–¥.

### Kibana
–ß–µ—Ä–µ–∑ HTTP –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏: –¥–∞—à–±–æ—Ä–¥—ã, –≥—Ä–∞—Ñ–∏–∫–∏, —Ñ–∏–ª—å—Ç—Ä—ã, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–∑—ã, –∞–ª–µ—Ä—Ç—ã.


## üîç –ß—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å ELK:
1. –ü–æ–∏—Å–∫ –ª–æ–≥–æ–≤ –ø–æ –≤—Ä–µ–º–µ–Ω–∏, —Å–µ—Ä–≤–∏—Å—É, —É—Ä–æ–≤–Ω—é –ª–æ–≥–æ–≤, ID –∑–∞–ø—Ä–æ—Å–∞

2. –°–æ–∑–¥–∞–Ω–∏–µ –∞–ª–µ—Ä—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ERROR > 10 —Ä–∞–∑ –∑–∞ 1 –º–∏–Ω)

3. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ (–Ω–∞–≥—Ä—É–∑–∫–∞, —á–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫)

4. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ —Å —Ä–∞–∑–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã, nginx, postgres)

## üß± –ú–∏–Ω—É—Å—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
1. –¢—Ä–µ–±—É–µ—Ç —Ä–µ—Å—É—Ä—Å–æ–≤ (–ø–∞–º—è—Ç—å, CPU, –¥–∏—Å–∫)

2. Elasticsearch –Ω–∞–¥–æ —Ç—é–Ω–∏—Ç—å (heap size, GC, –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ)

3. Logstash —Ç—è–∂–µ–ª–µ–µ, —á–µ–º Beats (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ Fluentd)

## üìù –†–µ–∑—é–º–µ –¥–ª—è —Å–æ–±–µ—Å–∞:
ELK ‚Äî —ç—Ç–æ —Å—Ç–µ–∫ –¥–ª—è —Å–±–æ—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤: Logstash (—Å–±–æ—Ä –∏ –ø–∞—Ä—Å–∏–Ω–≥), Elasticsearch (—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ø–æ–∏—Å–∫), Kibana (–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è). 
–ü–æ–∑–≤–æ–ª—è–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ª–æ–≥–∞–º–∏, —Å—Ç—Ä–æ–∏—Ç—å –¥–∞—à–±–æ—Ä–¥—ã –∏ –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –æ—à–∏–±–∫–∏. –ò—Å–ø–æ–ª—å–∑—É—é —Å Filebeat, Logstash –∏–ª–∏ Fluentd, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –ø—Ä–æ–¥-—Å—Ä–µ–¥–µ —Å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏ Kubernetes.










